0
1
00:00:00,660 --> 00:00:06,660
In the previous videos we added md5 hash to our bundles and learn how to keep the dist folder
1

2
00:00:06,720 --> 00:00:07,760
nice and clean.
2

3
00:00:08,190 --> 00:00:11,060
But did you notice what happened to our html file?
3

4
00:00:11,130 --> 00:00:12,540
you're right.
4

5
00:00:12,750 --> 00:00:14,190
Absolutely nothing.
5

6
00:00:14,190 --> 00:00:29,370
So if I open it now in the browser our application will be broken.
6

7
00:00:29,400 --> 00:00:37,690
You see there is an empty page here and there are two errors in the browser console.
7

8
00:00:37,720 --> 00:00:46,330
Do you know why it's broken? If I go to the html file you'll see that the references to our bundles
8

9
00:00:46,480 --> 00:00:48,220
don't include md5 hash.
9

10
00:00:52,560 --> 00:00:55,300
This reference doesn't include md5 hash.
10

11
00:00:55,550 --> 00:01:04,140
And this reference as well doesn't include md5 hash. So in order to fix our small website we
11

12
00:01:04,140 --> 00:01:06,270
need to change these references.
12

13
00:01:06,300 --> 00:01:09,390
So now I will just copy the file name from here
13

14
00:01:16,840 --> 00:01:20,980
and paste it here. I will do the same
14

15
00:01:21,010 --> 00:01:22,320
with the CSS file.
15

16
00:01:30,660 --> 00:01:33,200
let's go to the browser and check if this fixed
16

17
00:01:33,200 --> 00:01:37,350
our website. I will reload the page.
17

18
00:01:40,910 --> 00:01:43,940
And now you see that our website works again.
18

19
00:01:43,940 --> 00:01:48,290
So does this mean that we need to change the names of the files manually
19

20
00:01:48,320 --> 00:01:49,600
after every build?
20

21
00:01:49,610 --> 00:01:54,350
Come on, we are in the 21st century. Even dishes can be washed automatically
21

22
00:01:54,350 --> 00:01:56,550
if you put them into a dishwasher.
22

23
00:01:56,780 --> 00:02:02,610
Of course webpack has a special plugin that updates the names of the files during each build.
23

24
00:02:02,750 --> 00:02:11,060
This plugin is called html-webpack-plugin and it can also create html file for us. So we don't
24

25
00:02:11,060 --> 00:02:13,130
have to worry about that.
25

26
00:02:13,160 --> 00:02:35,320
Let's go to the Webpack configuration and add this plugin to the list of plugins.
26

27
00:02:35,380 --> 00:02:38,900
Now let's import this plugin at the beginning of the file.
27

28
00:02:54,460 --> 00:02:57,360
The only thing that's left is to install it
28

29
00:02:57,550 --> 00:03:10,750
via NPM.
29

30
00:03:10,950 --> 00:03:14,730
Let's run the build process and have a look at the dist folder.
30

31
00:03:19,180 --> 00:03:22,540
I will go to the text editor and look inside the dist folder.
31

32
00:03:26,280 --> 00:03:33,620
it looks like we have a new file inside the dist folder and this file is called index.html.
32

33
00:03:34,420 --> 00:03:34,990
Webpack
33

34
00:03:35,030 --> 00:03:41,530
generated this file automatically when we run the build process. This file looks pretty much the same
34

35
00:03:41,560 --> 00:03:43,880
as our own index.html.
35

36
00:03:44,290 --> 00:03:46,930
Except that formatting is not so nice.
36

37
00:03:46,960 --> 00:03:51,980
However there is one more thing we need to adjust. The path to our bundles
37

38
00:03:52,030 --> 00:04:00,840
still starts with the prefix dist. Since our html file is also located inside the dist folder,
38

39
00:04:01,910 --> 00:04:08,850
as the bundles themselves, we don't need this prefix anymore, So we need to remove this prefix.
39

40
00:04:08,960 --> 00:04:12,900
Webpack generates this prefix according to the publicPath option.
40

41
00:04:18,060 --> 00:04:20,720
And we can change this option right here.
41

42
00:04:20,850 --> 00:04:25,280
So instead of dist I will leave it empty.
42

43
00:04:25,300 --> 00:04:27,400
Now let's run the build process again.
43

44
00:04:33,060 --> 00:04:43,800
I will go back to the text editor and open the index.html file and now I can see that there is
44

45
00:04:43,800 --> 00:04:48,450
no dist prefix anymore. As you can see
45

46
00:04:48,470 --> 00:04:56,170
Now we have two html files. one html file is generated by Webpack and located inside the dist folder
46

47
00:04:56,230 --> 00:05:03,460
and another html file is located in the root directory of our project that we created ourselves.
47

48
00:05:03,460 --> 00:05:06,980
So let's remove this second file because we don't need it anymore.
48

49
00:05:11,900 --> 00:05:15,420
He will only use the html file generated by Webpack
49

50
00:05:16,650 --> 00:05:20,720
Let's open this html file in the browser and check if everything works.
50

51
00:05:31,980 --> 00:05:38,160
As you can see everything still works even though we are using html file that was generated automatically.
51

52
00:05:38,880 --> 00:05:39,800
In the next video
52

53
00:05:39,900 --> 00:05:43,980
You'll learn how to customize some stuff inside this html file.
